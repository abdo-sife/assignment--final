"use strict";(self.webpackChunkfreshcart=self.webpackChunkfreshcart||[]).push([[932],{6666:(I,_,i)=>{i.r(_),i.d(_,{LoginComponent:()=>A});var g=i(6814),t=i(95),m=i(1120),n=i(4769),f=i(4768);function d(o,s){1&o&&(n.TgZ(0,"p",19),n._uU(1," Email Is Required "),n.qZA())}function h(o,s){1&o&&(n.TgZ(0,"p",19),n._uU(1," Email Invalid Format "),n.qZA())}function Z(o,s){if(1&o&&(n.ynx(0),n.YNc(1,d,2,0,"p",18),n.YNc(2,h,2,0,"p",18),n.BQk()),2&o){const a=n.oxw();n.xp6(1),n.Q6J("ngIf",a.f.email.getError("required")),n.xp6(1),n.Q6J("ngIf",a.f.email.getError("email"))}}function w(o,s){1&o&&(n.TgZ(0,"p",19),n._uU(1," Password Is Required "),n.qZA())}function L(o,s){1&o&&(n.TgZ(0,"p",19),n._uU(1," Must be at least 6 chars "),n.qZA())}function T(o,s){if(1&o&&(n.ynx(0),n.YNc(1,w,2,0,"p",18),n.YNc(2,L,2,0,"p",18),n.BQk()),2&o){const a=n.oxw();n.xp6(1),n.Q6J("ngIf",a.f.password.getError("required")),n.xp6(1),n.Q6J("ngIf",a.f.password.getError("pattern"))}}function C(o,s){1&o&&(n.TgZ(0,"span"),n._UZ(1,"i",20),n.qZA())}function v(o,s){if(1&o&&(n.TgZ(0,"p",21),n._uU(1),n.qZA()),2&o){const a=n.oxw();n.xp6(1),n.hij(" ",a.errMsg," ")}}const u=function(o){return{"d-none":o}};let A=(()=>{var o;class s{constructor(r,e,l){this._AuthService=r,this._fb=e,this._Router=l,this.passwordShow=!1,this.errMsg="",this.isLoading=!1}ngOnInit(){this.loginForm=this._fb.group({email:["",[t.kI.required,t.kI.email]],password:["",[t.kI.required,t.kI.pattern(/^\w{6,}$/)]]})}get f(){return this.loginForm.controls}handleLogin(){this.isLoading=!0,this.loginForm.valid&&this._AuthService.setLogin(this.loginForm.value).subscribe({next:r=>{"success"===r.message&&(this.isLoading=!1,localStorage.setItem("_token",r.token),this._AuthService.saveUser(),this._Router.navigate(["/home"]))},error:r=>{this.isLoading=!1,this.errMsg=r.error.message}})}}return(o=s).\u0275fac=function(r){return new(r||o)(n.Y36(f.e),n.Y36(t.qu),n.Y36(m.F0))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:27,vars:12,consts:[[1,"bg-main-light","rounded","shadow","p-3"],[1,"display-3","text-center"],[1,"vstack","gap-3","w-75","mx-auto",3,"formGroup","ngSubmit"],[1,"form-item"],["for","email"],["formControlName","email","id","email","type","email","placeholder","Your Email....",1,"form-control"],[4,"ngIf"],["for","password"],[1,"position-relative"],["formControlName","password","id","password","type","password","placeholder","Your Password....",1,"form-control"],["pass",""],["role","button",1,"position-absolute","top-50","end-0","translate-middle-y","me-2",3,"ngClass","click"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[1,"hstack","justify-content-between"],[1,"main-btn","mt-2",3,"disabled"],["role","button","routerLink","/forgotlogin",1,"link-primary"],["class","alert alert-danger text-center mt-1 mx-auto mb-0 p-1 mt-3",4,"ngIf"],["class","alert alert-danger mt-1 mx-auto p-1 mb-0",4,"ngIf"],[1,"alert","alert-danger","mt-1","mx-auto","p-1","mb-0"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","text-center","mt-1","mx-auto","mb-0","p-1","mt-3"]],template:function(r,e){if(1&r){const l=n.EpF();n.TgZ(0,"section",0)(1,"h1",1),n._uU(2,"Login Now"),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return e.handleLogin()}),n.TgZ(4,"div",3)(5,"label",4),n._uU(6,"Email:"),n.qZA(),n._UZ(7,"input",5),n.YNc(8,Z,3,2,"ng-container",6),n.qZA(),n.TgZ(9,"div",3)(10,"label",7),n._uU(11,"Password:"),n.qZA(),n.TgZ(12,"div",8),n._UZ(13,"input",9,10),n.TgZ(15,"span",11),n.NdJ("click",function(){n.CHM(l);const p=n.MAs(14);return e.passwordShow=!0,n.KtG(p.type=1==e.passwordShow?"text":"password")}),n._UZ(16,"i",12),n.qZA(),n.TgZ(17,"span",11),n.NdJ("click",function(){n.CHM(l);const p=n.MAs(14);return e.passwordShow=!1,n.KtG(p.type=0==e.passwordShow?"password":"text")}),n._UZ(18,"i",13),n.qZA()(),n.YNc(19,T,3,2,"ng-container",6),n.qZA(),n.TgZ(20,"div",14)(21,"button",15),n._uU(22," Login "),n.YNc(23,C,2,0,"span",6),n.qZA(),n.TgZ(24,"a",16),n._uU(25,"Forgot Password"),n.qZA()(),n.YNc(26,v,2,1,"p",17),n.qZA()()}2&r&&(n.xp6(3),n.Q6J("formGroup",e.loginForm),n.xp6(5),n.Q6J("ngIf",e.f.email.errors&&(e.f.email.value.length||e.f.email.touched)),n.xp6(7),n.Q6J("ngClass",n.VKq(8,u,e.passwordShow)),n.xp6(2),n.Q6J("ngClass",n.VKq(10,u,!e.passwordShow)),n.xp6(2),n.Q6J("ngIf",e.f.password.errors&&(e.f.password.value.length||e.f.password.touched)),n.xp6(2),n.Q6J("disabled",e.loginForm.invalid||e.isLoading),n.xp6(2),n.Q6J("ngIf",e.isLoading),n.xp6(3),n.Q6J("ngIf",e.errMsg))},dependencies:[g.ez,g.mk,g.O5,t.UX,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,m.rH]}),s})()}}]);